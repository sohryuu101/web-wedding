import{r as s,j as e,u as kt,a as Tt,b as At,c as we}from"./index-DM2dl_tG.js";import{u as Ot}from"./template-selector-CQjy9Or9.js";import{u as Fe}from"./useMutation-DkTIRAW7.js";import{c as ne,P as O,u as z,d as Ft,b as Lt,e as Be,a as Ce,B as k}from"./createLucideIcon-D8ypfPPQ.js";import{C as X,a as W,b as Q,d as Z,c as Gt}from"./card-DY0_1SGK.js";import{P as Le,B as Ge,C as Kt,T as $t}from"./wedding-invitation-template-DbU6jmtp.js";import{c as ye,a as Ve,u as Me,b as h,d as ze,e as He,f as Ne,g as Ye,R as Ut,A as Bt,P as me,h as Vt,i as zt,j as Ht,k as Yt,F as qt,D as Xt,C as Wt,l as Qt,B as Zt,E as ie,m as Ke,S as Jt,I as en}from"./invitation-preview-DVav7bTy.js";import{H as ue}from"./heart-DUyjez3i.js";import{P as tn}from"./protected-route-D3PCKG2y.js";import"./loader-circle-CwUtpQNo.js";/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nn=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]],on=ne("download",nn);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rn=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],an=ne("ellipsis-vertical",rn);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sn=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],cn=ne("log-out",sn);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const un=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],ln=ne("settings",un);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dn=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],$e=ne("square-pen",dn);var be="rovingFocusGroup.onEntryFocus",mn={bubbles:!1,cancelable:!0},oe="RovingFocusGroup",[je,qe,fn]=Ve(oe),[pn,Xe]=ye(oe,[fn]),[xn,hn]=pn(oe),We=s.forwardRef((t,o)=>e.jsx(je.Provider,{scope:t.__scopeRovingFocusGroup,children:e.jsx(je.Slot,{scope:t.__scopeRovingFocusGroup,children:e.jsx(vn,{...t,ref:o})})}));We.displayName=oe;var vn=s.forwardRef((t,o)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:a=!1,dir:c,currentTabStopId:l,defaultCurrentTabStopId:m,onCurrentTabStopIdChange:x,onEntryFocus:i,preventScrollOnEntryFocus:d=!1,...u}=t,f=s.useRef(null),w=z(o,f),v=ze(c),[y,g]=He({prop:l,defaultProp:m??null,onChange:x,caller:oe}),[M,S]=s.useState(!1),b=Ne(i),N=qe(n),T=s.useRef(!1),[$,j]=s.useState(0);return s.useEffect(()=>{const _=f.current;if(_)return _.addEventListener(be,b),()=>_.removeEventListener(be,b)},[b]),e.jsx(xn,{scope:n,orientation:r,dir:v,loop:a,currentTabStopId:y,onItemFocus:s.useCallback(_=>g(_),[g]),onItemShiftTab:s.useCallback(()=>S(!0),[]),onFocusableItemAdd:s.useCallback(()=>j(_=>_+1),[]),onFocusableItemRemove:s.useCallback(()=>j(_=>_-1),[]),children:e.jsx(O.div,{tabIndex:M||$===0?-1:0,"data-orientation":r,...u,ref:w,style:{outline:"none",...t.style},onMouseDown:h(t.onMouseDown,()=>{T.current=!0}),onFocus:h(t.onFocus,_=>{const U=!T.current;if(_.target===_.currentTarget&&U&&!M){const F=new CustomEvent(be,mn);if(_.currentTarget.dispatchEvent(F),!F.defaultPrevented){const H=N().filter(E=>E.focusable),Y=H.find(E=>E.active),se=H.find(E=>E.id===y),he=[Y,se,...H].filter(Boolean).map(E=>E.ref.current);Je(he,d)}}T.current=!1}),onBlur:h(t.onBlur,()=>S(!1))})})}),Qe="RovingFocusGroupItem",Ze=s.forwardRef((t,o)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:a=!1,tabStopId:c,children:l,...m}=t,x=Me(),i=c||x,d=hn(Qe,n),u=d.currentTabStopId===i,f=qe(n),{onFocusableItemAdd:w,onFocusableItemRemove:v,currentTabStopId:y}=d;return s.useEffect(()=>{if(r)return w(),()=>v()},[r,w,v]),e.jsx(je.ItemSlot,{scope:n,id:i,focusable:r,active:a,children:e.jsx(O.span,{tabIndex:u?0:-1,"data-orientation":d.orientation,...m,ref:o,onMouseDown:h(t.onMouseDown,g=>{r?d.onItemFocus(i):g.preventDefault()}),onFocus:h(t.onFocus,()=>d.onItemFocus(i)),onKeyDown:h(t.onKeyDown,g=>{if(g.key==="Tab"&&g.shiftKey){d.onItemShiftTab();return}if(g.target!==g.currentTarget)return;const M=bn(g,d.orientation,d.dir);if(M!==void 0){if(g.metaKey||g.ctrlKey||g.altKey||g.shiftKey)return;g.preventDefault();let b=f().filter(N=>N.focusable).map(N=>N.ref.current);if(M==="last")b.reverse();else if(M==="prev"||M==="next"){M==="prev"&&b.reverse();const N=b.indexOf(g.currentTarget);b=d.loop?Mn(b,N+1):b.slice(N+1)}setTimeout(()=>Je(b))}}),children:typeof l=="function"?l({isCurrentTabStop:u,hasTabStop:y!=null}):l})})});Ze.displayName=Qe;var gn={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function wn(t,o){return o!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function bn(t,o,n){const r=wn(t.key,n);if(!(o==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(o==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return gn[r]}function Je(t,o=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:o}),document.activeElement!==n))return}function Mn(t,o){return t.map((n,r)=>t[(o+r)%t.length])}var jn=We,_n=Ze,_e=["Enter"," "],Cn=["ArrowDown","PageUp","Home"],et=["ArrowUp","PageDown","End"],yn=[...Cn,...et],Nn={ltr:[..._e,"ArrowRight"],rtl:[..._e,"ArrowLeft"]},Rn={ltr:["ArrowLeft"],rtl:["ArrowRight"]},re="Menu",[ee,In,Sn]=Ve(re),[G,tt]=ye(re,[Sn,Ye,Xe]),fe=Ye(),nt=Xe(),[Pn,K]=G(re),[En,ae]=G(re),ot=t=>{const{__scopeMenu:o,open:n=!1,children:r,dir:a,onOpenChange:c,modal:l=!0}=t,m=fe(o),[x,i]=s.useState(null),d=s.useRef(!1),u=Ne(c),f=ze(a);return s.useEffect(()=>{const w=()=>{d.current=!0,document.addEventListener("pointerdown",v,{capture:!0,once:!0}),document.addEventListener("pointermove",v,{capture:!0,once:!0})},v=()=>d.current=!1;return document.addEventListener("keydown",w,{capture:!0}),()=>{document.removeEventListener("keydown",w,{capture:!0}),document.removeEventListener("pointerdown",v,{capture:!0}),document.removeEventListener("pointermove",v,{capture:!0})}},[]),e.jsx(Ut,{...m,children:e.jsx(Pn,{scope:o,open:n,onOpenChange:u,content:x,onContentChange:i,children:e.jsx(En,{scope:o,onClose:s.useCallback(()=>u(!1),[u]),isUsingKeyboardRef:d,dir:f,modal:l,children:r})})})};ot.displayName=re;var Dn="MenuAnchor",Re=s.forwardRef((t,o)=>{const{__scopeMenu:n,...r}=t,a=fe(n);return e.jsx(Bt,{...a,...r,ref:o})});Re.displayName=Dn;var Ie="MenuPortal",[kn,rt]=G(Ie,{forceMount:void 0}),at=t=>{const{__scopeMenu:o,forceMount:n,children:r,container:a}=t,c=K(Ie,o);return e.jsx(kn,{scope:o,forceMount:n,children:e.jsx(me,{present:n||c.open,children:e.jsx(Vt,{asChild:!0,container:a,children:r})})})};at.displayName=Ie;var I="MenuContent",[Tn,Se]=G(I),st=s.forwardRef((t,o)=>{const n=rt(I,t.__scopeMenu),{forceMount:r=n.forceMount,...a}=t,c=K(I,t.__scopeMenu),l=ae(I,t.__scopeMenu);return e.jsx(ee.Provider,{scope:t.__scopeMenu,children:e.jsx(me,{present:r||c.open,children:e.jsx(ee.Slot,{scope:t.__scopeMenu,children:l.modal?e.jsx(An,{...a,ref:o}):e.jsx(On,{...a,ref:o})})})})}),An=s.forwardRef((t,o)=>{const n=K(I,t.__scopeMenu),r=s.useRef(null),a=z(o,r);return s.useEffect(()=>{const c=r.current;if(c)return zt(c)},[]),e.jsx(Pe,{...t,ref:a,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:h(t.onFocusOutside,c=>c.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),On=s.forwardRef((t,o)=>{const n=K(I,t.__scopeMenu);return e.jsx(Pe,{...t,ref:o,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),Fn=Lt("MenuContent.ScrollLock"),Pe=s.forwardRef((t,o)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:a,onOpenAutoFocus:c,onCloseAutoFocus:l,disableOutsidePointerEvents:m,onEntryFocus:x,onEscapeKeyDown:i,onPointerDownOutside:d,onFocusOutside:u,onInteractOutside:f,onDismiss:w,disableOutsideScroll:v,...y}=t,g=K(I,n),M=ae(I,n),S=fe(n),b=nt(n),N=In(n),[T,$]=s.useState(null),j=s.useRef(null),_=z(o,j,g.onContentChange),U=s.useRef(0),F=s.useRef(""),H=s.useRef(0),Y=s.useRef(null),se=s.useRef("right"),ce=s.useRef(0),he=v?Yt:s.Fragment,E=v?{as:Fn,allowPinchZoom:!0}:void 0,Dt=p=>{var V,Ae;const R=F.current+p,P=N().filter(D=>!D.disabled),A=document.activeElement,ve=(V=P.find(D=>D.ref.current===A))==null?void 0:V.textValue,ge=P.map(D=>D.textValue),Te=Xn(ge,R,ve),q=(Ae=P.find(D=>D.textValue===Te))==null?void 0:Ae.ref.current;(function D(Oe){F.current=Oe,window.clearTimeout(U.current),Oe!==""&&(U.current=window.setTimeout(()=>D(""),1e3))})(R),q&&setTimeout(()=>q.focus())};s.useEffect(()=>()=>window.clearTimeout(U.current),[]),Ht();const B=s.useCallback(p=>{var P,A;return se.current===((P=Y.current)==null?void 0:P.side)&&Qn(p,(A=Y.current)==null?void 0:A.area)},[]);return e.jsx(Tn,{scope:n,searchRef:F,onItemEnter:s.useCallback(p=>{B(p)&&p.preventDefault()},[B]),onItemLeave:s.useCallback(p=>{var R;B(p)||((R=j.current)==null||R.focus(),$(null))},[B]),onTriggerLeave:s.useCallback(p=>{B(p)&&p.preventDefault()},[B]),pointerGraceTimerRef:H,onPointerGraceIntentChange:s.useCallback(p=>{Y.current=p},[]),children:e.jsx(he,{...E,children:e.jsx(qt,{asChild:!0,trapped:a,onMountAutoFocus:h(c,p=>{var R;p.preventDefault(),(R=j.current)==null||R.focus({preventScroll:!0})}),onUnmountAutoFocus:l,children:e.jsx(Xt,{asChild:!0,disableOutsidePointerEvents:m,onEscapeKeyDown:i,onPointerDownOutside:d,onFocusOutside:u,onInteractOutside:f,onDismiss:w,children:e.jsx(jn,{asChild:!0,...b,dir:M.dir,orientation:"vertical",loop:r,currentTabStopId:T,onCurrentTabStopIdChange:$,onEntryFocus:h(x,p=>{M.isUsingKeyboardRef.current||p.preventDefault()}),preventScrollOnEntryFocus:!0,children:e.jsx(Wt,{role:"menu","aria-orientation":"vertical","data-state":jt(g.open),"data-radix-menu-content":"",dir:M.dir,...S,...y,ref:_,style:{outline:"none",...y.style},onKeyDown:h(y.onKeyDown,p=>{const P=p.target.closest("[data-radix-menu-content]")===p.currentTarget,A=p.ctrlKey||p.altKey||p.metaKey,ve=p.key.length===1;P&&(p.key==="Tab"&&p.preventDefault(),!A&&ve&&Dt(p.key));const ge=j.current;if(p.target!==ge||!yn.includes(p.key))return;p.preventDefault();const q=N().filter(V=>!V.disabled).map(V=>V.ref.current);et.includes(p.key)&&q.reverse(),Yn(q)}),onBlur:h(t.onBlur,p=>{p.currentTarget.contains(p.target)||(window.clearTimeout(U.current),F.current="")}),onPointerMove:h(t.onPointerMove,te(p=>{const R=p.target,P=ce.current!==p.clientX;if(p.currentTarget.contains(R)&&P){const A=p.clientX>ce.current?"right":"left";se.current=A,ce.current=p.clientX}}))})})})})})})});st.displayName=I;var Ln="MenuGroup",Ee=s.forwardRef((t,o)=>{const{__scopeMenu:n,...r}=t;return e.jsx(O.div,{role:"group",...r,ref:o})});Ee.displayName=Ln;var Gn="MenuLabel",ct=s.forwardRef((t,o)=>{const{__scopeMenu:n,...r}=t;return e.jsx(O.div,{...r,ref:o})});ct.displayName=Gn;var le="MenuItem",Ue="menu.itemSelect",pe=s.forwardRef((t,o)=>{const{disabled:n=!1,onSelect:r,...a}=t,c=s.useRef(null),l=ae(le,t.__scopeMenu),m=Se(le,t.__scopeMenu),x=z(o,c),i=s.useRef(!1),d=()=>{const u=c.current;if(!n&&u){const f=new CustomEvent(Ue,{bubbles:!0,cancelable:!0});u.addEventListener(Ue,w=>r==null?void 0:r(w),{once:!0}),Ft(u,f),f.defaultPrevented?i.current=!1:l.onClose()}};return e.jsx(it,{...a,ref:x,disabled:n,onClick:h(t.onClick,d),onPointerDown:u=>{var f;(f=t.onPointerDown)==null||f.call(t,u),i.current=!0},onPointerUp:h(t.onPointerUp,u=>{var f;i.current||(f=u.currentTarget)==null||f.click()}),onKeyDown:h(t.onKeyDown,u=>{const f=m.searchRef.current!=="";n||f&&u.key===" "||_e.includes(u.key)&&(u.currentTarget.click(),u.preventDefault())})})});pe.displayName=le;var it=s.forwardRef((t,o)=>{const{__scopeMenu:n,disabled:r=!1,textValue:a,...c}=t,l=Se(le,n),m=nt(n),x=s.useRef(null),i=z(o,x),[d,u]=s.useState(!1),[f,w]=s.useState("");return s.useEffect(()=>{const v=x.current;v&&w((v.textContent??"").trim())},[c.children]),e.jsx(ee.ItemSlot,{scope:n,disabled:r,textValue:a??f,children:e.jsx(_n,{asChild:!0,...m,focusable:!r,children:e.jsx(O.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...c,ref:i,onPointerMove:h(t.onPointerMove,te(v=>{r?l.onItemLeave(v):(l.onItemEnter(v),v.defaultPrevented||v.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:h(t.onPointerLeave,te(v=>l.onItemLeave(v))),onFocus:h(t.onFocus,()=>u(!0)),onBlur:h(t.onBlur,()=>u(!1))})})})}),Kn="MenuCheckboxItem",ut=s.forwardRef((t,o)=>{const{checked:n=!1,onCheckedChange:r,...a}=t;return e.jsx(pt,{scope:t.__scopeMenu,checked:n,children:e.jsx(pe,{role:"menuitemcheckbox","aria-checked":de(n)?"mixed":n,...a,ref:o,"data-state":ke(n),onSelect:h(a.onSelect,()=>r==null?void 0:r(de(n)?!0:!n),{checkForDefaultPrevented:!1})})})});ut.displayName=Kn;var lt="MenuRadioGroup",[$n,Un]=G(lt,{value:void 0,onValueChange:()=>{}}),dt=s.forwardRef((t,o)=>{const{value:n,onValueChange:r,...a}=t,c=Ne(r);return e.jsx($n,{scope:t.__scopeMenu,value:n,onValueChange:c,children:e.jsx(Ee,{...a,ref:o})})});dt.displayName=lt;var mt="MenuRadioItem",ft=s.forwardRef((t,o)=>{const{value:n,...r}=t,a=Un(mt,t.__scopeMenu),c=n===a.value;return e.jsx(pt,{scope:t.__scopeMenu,checked:c,children:e.jsx(pe,{role:"menuitemradio","aria-checked":c,...r,ref:o,"data-state":ke(c),onSelect:h(r.onSelect,()=>{var l;return(l=a.onValueChange)==null?void 0:l.call(a,n)},{checkForDefaultPrevented:!1})})})});ft.displayName=mt;var De="MenuItemIndicator",[pt,Bn]=G(De,{checked:!1}),xt=s.forwardRef((t,o)=>{const{__scopeMenu:n,forceMount:r,...a}=t,c=Bn(De,n);return e.jsx(me,{present:r||de(c.checked)||c.checked===!0,children:e.jsx(O.span,{...a,ref:o,"data-state":ke(c.checked)})})});xt.displayName=De;var Vn="MenuSeparator",ht=s.forwardRef((t,o)=>{const{__scopeMenu:n,...r}=t;return e.jsx(O.div,{role:"separator","aria-orientation":"horizontal",...r,ref:o})});ht.displayName=Vn;var zn="MenuArrow",vt=s.forwardRef((t,o)=>{const{__scopeMenu:n,...r}=t,a=fe(n);return e.jsx(Qt,{...a,...r,ref:o})});vt.displayName=zn;var Hn="MenuSub",[rr,gt]=G(Hn),J="MenuSubTrigger",wt=s.forwardRef((t,o)=>{const n=K(J,t.__scopeMenu),r=ae(J,t.__scopeMenu),a=gt(J,t.__scopeMenu),c=Se(J,t.__scopeMenu),l=s.useRef(null),{pointerGraceTimerRef:m,onPointerGraceIntentChange:x}=c,i={__scopeMenu:t.__scopeMenu},d=s.useCallback(()=>{l.current&&window.clearTimeout(l.current),l.current=null},[]);return s.useEffect(()=>d,[d]),s.useEffect(()=>{const u=m.current;return()=>{window.clearTimeout(u),x(null)}},[m,x]),e.jsx(Re,{asChild:!0,...i,children:e.jsx(it,{id:a.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":a.contentId,"data-state":jt(n.open),...t,ref:Be(o,a.onTriggerChange),onClick:u=>{var f;(f=t.onClick)==null||f.call(t,u),!(t.disabled||u.defaultPrevented)&&(u.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:h(t.onPointerMove,te(u=>{c.onItemEnter(u),!u.defaultPrevented&&!t.disabled&&!n.open&&!l.current&&(c.onPointerGraceIntentChange(null),l.current=window.setTimeout(()=>{n.onOpenChange(!0),d()},100))})),onPointerLeave:h(t.onPointerLeave,te(u=>{var w,v;d();const f=(w=n.content)==null?void 0:w.getBoundingClientRect();if(f){const y=(v=n.content)==null?void 0:v.dataset.side,g=y==="right",M=g?-5:5,S=f[g?"left":"right"],b=f[g?"right":"left"];c.onPointerGraceIntentChange({area:[{x:u.clientX+M,y:u.clientY},{x:S,y:f.top},{x:b,y:f.top},{x:b,y:f.bottom},{x:S,y:f.bottom}],side:y}),window.clearTimeout(m.current),m.current=window.setTimeout(()=>c.onPointerGraceIntentChange(null),300)}else{if(c.onTriggerLeave(u),u.defaultPrevented)return;c.onPointerGraceIntentChange(null)}})),onKeyDown:h(t.onKeyDown,u=>{var w;const f=c.searchRef.current!=="";t.disabled||f&&u.key===" "||Nn[r.dir].includes(u.key)&&(n.onOpenChange(!0),(w=n.content)==null||w.focus(),u.preventDefault())})})})});wt.displayName=J;var bt="MenuSubContent",Mt=s.forwardRef((t,o)=>{const n=rt(I,t.__scopeMenu),{forceMount:r=n.forceMount,...a}=t,c=K(I,t.__scopeMenu),l=ae(I,t.__scopeMenu),m=gt(bt,t.__scopeMenu),x=s.useRef(null),i=z(o,x);return e.jsx(ee.Provider,{scope:t.__scopeMenu,children:e.jsx(me,{present:r||c.open,children:e.jsx(ee.Slot,{scope:t.__scopeMenu,children:e.jsx(Pe,{id:m.contentId,"aria-labelledby":m.triggerId,...a,ref:i,align:"start",side:l.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{var u;l.isUsingKeyboardRef.current&&((u=x.current)==null||u.focus()),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:h(t.onFocusOutside,d=>{d.target!==m.trigger&&c.onOpenChange(!1)}),onEscapeKeyDown:h(t.onEscapeKeyDown,d=>{l.onClose(),d.preventDefault()}),onKeyDown:h(t.onKeyDown,d=>{var w;const u=d.currentTarget.contains(d.target),f=Rn[l.dir].includes(d.key);u&&f&&(c.onOpenChange(!1),(w=m.trigger)==null||w.focus(),d.preventDefault())})})})})})});Mt.displayName=bt;function jt(t){return t?"open":"closed"}function de(t){return t==="indeterminate"}function ke(t){return de(t)?"indeterminate":t?"checked":"unchecked"}function Yn(t){const o=document.activeElement;for(const n of t)if(n===o||(n.focus(),document.activeElement!==o))return}function qn(t,o){return t.map((n,r)=>t[(o+r)%t.length])}function Xn(t,o,n){const a=o.length>1&&Array.from(o).every(i=>i===o[0])?o[0]:o,c=n?t.indexOf(n):-1;let l=qn(t,Math.max(c,0));a.length===1&&(l=l.filter(i=>i!==n));const x=l.find(i=>i.toLowerCase().startsWith(a.toLowerCase()));return x!==n?x:void 0}function Wn(t,o){const{x:n,y:r}=t;let a=!1;for(let c=0,l=o.length-1;c<o.length;l=c++){const m=o[c],x=o[l],i=m.x,d=m.y,u=x.x,f=x.y;d>r!=f>r&&n<(u-i)*(r-d)/(f-d)+i&&(a=!a)}return a}function Qn(t,o){if(!o)return!1;const n={x:t.clientX,y:t.clientY};return Wn(n,o)}function te(t){return o=>o.pointerType==="mouse"?t(o):void 0}var Zn=ot,Jn=Re,eo=at,to=st,no=Ee,oo=ct,ro=pe,ao=ut,so=dt,co=ft,io=xt,uo=ht,lo=vt,mo=wt,fo=Mt,xe="DropdownMenu",[po,ar]=ye(xe,[tt]),C=tt(),[xo,_t]=po(xe),Ct=t=>{const{__scopeDropdownMenu:o,children:n,dir:r,open:a,defaultOpen:c,onOpenChange:l,modal:m=!0}=t,x=C(o),i=s.useRef(null),[d,u]=He({prop:a,defaultProp:c??!1,onChange:l,caller:xe});return e.jsx(xo,{scope:o,triggerId:Me(),triggerRef:i,contentId:Me(),open:d,onOpenChange:u,onOpenToggle:s.useCallback(()=>u(f=>!f),[u]),modal:m,children:e.jsx(Zn,{...x,open:d,onOpenChange:u,dir:r,modal:m,children:n})})};Ct.displayName=xe;var yt="DropdownMenuTrigger",Nt=s.forwardRef((t,o)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...a}=t,c=_t(yt,n),l=C(n);return e.jsx(Jn,{asChild:!0,...l,children:e.jsx(O.button,{type:"button",id:c.triggerId,"aria-haspopup":"menu","aria-expanded":c.open,"aria-controls":c.open?c.contentId:void 0,"data-state":c.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...a,ref:Be(o,c.triggerRef),onPointerDown:h(t.onPointerDown,m=>{!r&&m.button===0&&m.ctrlKey===!1&&(c.onOpenToggle(),c.open||m.preventDefault())}),onKeyDown:h(t.onKeyDown,m=>{r||(["Enter"," "].includes(m.key)&&c.onOpenToggle(),m.key==="ArrowDown"&&c.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(m.key)&&m.preventDefault())})})})});Nt.displayName=yt;var ho="DropdownMenuPortal",Rt=t=>{const{__scopeDropdownMenu:o,...n}=t,r=C(o);return e.jsx(eo,{...r,...n})};Rt.displayName=ho;var It="DropdownMenuContent",St=s.forwardRef((t,o)=>{const{__scopeDropdownMenu:n,...r}=t,a=_t(It,n),c=C(n),l=s.useRef(!1);return e.jsx(to,{id:a.contentId,"aria-labelledby":a.triggerId,...c,...r,ref:o,onCloseAutoFocus:h(t.onCloseAutoFocus,m=>{var x;l.current||(x=a.triggerRef.current)==null||x.focus(),l.current=!1,m.preventDefault()}),onInteractOutside:h(t.onInteractOutside,m=>{const x=m.detail.originalEvent,i=x.button===0&&x.ctrlKey===!0,d=x.button===2||i;(!a.modal||d)&&(l.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});St.displayName=It;var vo="DropdownMenuGroup",go=s.forwardRef((t,o)=>{const{__scopeDropdownMenu:n,...r}=t,a=C(n);return e.jsx(no,{...a,...r,ref:o})});go.displayName=vo;var wo="DropdownMenuLabel",bo=s.forwardRef((t,o)=>{const{__scopeDropdownMenu:n,...r}=t,a=C(n);return e.jsx(oo,{...a,...r,ref:o})});bo.displayName=wo;var Mo="DropdownMenuItem",Pt=s.forwardRef((t,o)=>{const{__scopeDropdownMenu:n,...r}=t,a=C(n);return e.jsx(ro,{...a,...r,ref:o})});Pt.displayName=Mo;var jo="DropdownMenuCheckboxItem",_o=s.forwardRef((t,o)=>{const{__scopeDropdownMenu:n,...r}=t,a=C(n);return e.jsx(ao,{...a,...r,ref:o})});_o.displayName=jo;var Co="DropdownMenuRadioGroup",yo=s.forwardRef((t,o)=>{const{__scopeDropdownMenu:n,...r}=t,a=C(n);return e.jsx(so,{...a,...r,ref:o})});yo.displayName=Co;var No="DropdownMenuRadioItem",Ro=s.forwardRef((t,o)=>{const{__scopeDropdownMenu:n,...r}=t,a=C(n);return e.jsx(co,{...a,...r,ref:o})});Ro.displayName=No;var Io="DropdownMenuItemIndicator",So=s.forwardRef((t,o)=>{const{__scopeDropdownMenu:n,...r}=t,a=C(n);return e.jsx(io,{...a,...r,ref:o})});So.displayName=Io;var Po="DropdownMenuSeparator",Et=s.forwardRef((t,o)=>{const{__scopeDropdownMenu:n,...r}=t,a=C(n);return e.jsx(uo,{...a,...r,ref:o})});Et.displayName=Po;var Eo="DropdownMenuArrow",Do=s.forwardRef((t,o)=>{const{__scopeDropdownMenu:n,...r}=t,a=C(n);return e.jsx(lo,{...a,...r,ref:o})});Do.displayName=Eo;var ko="DropdownMenuSubTrigger",To=s.forwardRef((t,o)=>{const{__scopeDropdownMenu:n,...r}=t,a=C(n);return e.jsx(mo,{...a,...r,ref:o})});To.displayName=ko;var Ao="DropdownMenuSubContent",Oo=s.forwardRef((t,o)=>{const{__scopeDropdownMenu:n,...r}=t,a=C(n);return e.jsx(fo,{...a,...r,ref:o,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});Oo.displayName=Ao;var Fo=Ct,Lo=Nt,Go=Rt,Ko=St,$o=Pt,Uo=Et;function Bo({...t}){return e.jsx(Fo,{"data-slot":"dropdown-menu",...t})}function Vo({...t}){return e.jsx(Lo,{"data-slot":"dropdown-menu-trigger",...t})}function zo({className:t,sideOffset:o=4,...n}){return e.jsx(Go,{children:e.jsx(Ko,{"data-slot":"dropdown-menu-content",sideOffset:o,className:Ce("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 max-h-(--radix-dropdown-menu-content-available-height) min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border p-1 shadow-md",t),...n})})}function L({className:t,inset:o,variant:n="default",...r}){return e.jsx($o,{"data-slot":"dropdown-menu-item","data-inset":o,"data-variant":n,className:Ce("focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...r})}function Ho({className:t,...o}){return e.jsx(Uo,{"data-slot":"dropdown-menu-separator",className:Ce("bg-border -mx-1 my-1 h-px",t),...o})}function Yo(){const t=kt(),o=Tt(),{user:n,logout:r}=At(),[a,c]=s.useState(!1),{data:l,isLoading:m,error:x}=Ot({queryKey:["invitation"],queryFn:()=>we.getInvitation()}),i=l==null?void 0:l.invitation,d=(l==null?void 0:l.hasInvitation)||!1,u=Fe({mutationFn:()=>we.deleteInvitation(),onSuccess:()=>{o.invalidateQueries({queryKey:["invitation"]})}}),f=Fe({mutationFn:()=>we.togglePublishInvitation(),onSuccess:()=>{o.invalidateQueries({queryKey:["invitation"]})}}),w=j=>j?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800",v=j=>j?"ðŸŸ¢":"ðŸŸ¡",y=j=>j?"dipublikasikan":"draf",g=()=>{t({to:"/dashboard/edit"})},M=async()=>{window.confirm("Apakah Anda yakin ingin menghapus undangan ini?")&&u.mutate()},S=()=>{f.mutate()},b=async()=>{await r(),t({to:"/login"})},N=()=>{t({to:"/setup"})},T=()=>{c(!0)},$=()=>{if(i){const j=`${window.location.origin}/invitation/${i.slug}`;navigator.clipboard.writeText(j)}};return m?e.jsx("div",{className:"flex items-center justify-center min-h-screen",children:e.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-gray-900"})}):x?e.jsx("div",{className:"flex items-center justify-center min-h-screen",children:e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-red-600 mb-4",children:"Gagal memuat undangan"}),e.jsx(k,{onClick:()=>window.location.reload(),children:"Coba Lagi"})]})}):e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("header",{className:"bg-white border-b border-gray-200",children:e.jsx("div",{className:"px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between h-auto sm:h-16 py-4 sm:py-0 w-full gap-4 sm:gap-0",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx(ue,{className:"h-8 w-8 text-rose-500"}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl sm:text-2xl font-bold text-gray-900",children:"Undangan Pernikahan Saya"}),e.jsxs("p",{className:"text-xs sm:text-sm text-gray-500",children:["Selamat datang kembali, ",n==null?void 0:n.name]})]})]}),e.jsxs("div",{className:"flex flex-wrap items-center gap-2 sm:gap-4 w-full sm:w-auto",children:[e.jsxs(k,{variant:"outline",size:"sm",className:"flex-1 sm:flex-none",children:[e.jsx(Zt,{className:"h-4 w-4 mr-2"}),"Notifikasi"]}),e.jsxs(k,{variant:"outline",size:"sm",className:"flex-1 sm:flex-none",children:[e.jsx(ln,{className:"h-4 w-4 mr-2"}),"Pengaturan"]}),e.jsxs(k,{variant:"outline",size:"sm",onClick:b,className:"flex-1 sm:flex-none",children:[e.jsx(cn,{className:"h-4 w-4 mr-2"}),"Keluar"]}),!d&&e.jsxs(k,{onClick:N,className:"flex-1 sm:flex-none",children:[e.jsx(Le,{className:"h-4 w-4 mr-2"}),"Buat Undangan"]})]})]})})}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[d&&i&&e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[e.jsxs(X,{children:[e.jsxs(W,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(Q,{className:"text-sm font-medium",children:"Status"}),e.jsx(ue,{className:"h-4 w-4 text-rose-600"})]}),e.jsxs(Z,{children:[e.jsx("div",{className:"text-2xl font-bold",children:i.is_published?"Aktif":"Draf"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:i.is_published?"Dipublikasikan dan dapat dilihat":"Belum dipublikasikan"})]})]}),e.jsxs(X,{children:[e.jsxs(W,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(Q,{className:"text-sm font-medium",children:"Dilihat"}),e.jsx(ie,{className:"h-4 w-4 text-blue-600"})]}),e.jsxs(Z,{children:[e.jsx("div",{className:"text-2xl font-bold",children:i.views}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Total dilihat"})]})]}),e.jsxs(X,{children:[e.jsxs(W,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(Q,{className:"text-sm font-medium",children:"RSVP"}),e.jsx(ue,{className:"h-4 w-4 text-green-600"})]}),e.jsxs(Z,{children:[e.jsx("div",{className:"text-2xl font-bold",children:i.rsvps}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Konfirmasi kehadiran"})]})]}),e.jsxs(X,{children:[e.jsxs(W,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(Q,{className:"text-sm font-medium",children:"Tingkat Respons"}),e.jsx(Ke,{className:"h-4 w-4 text-purple-600"})]}),e.jsxs(Z,{children:[e.jsx("div",{className:"text-2xl font-bold",children:i.views>0?`${(i.rsvps/i.views*100).toFixed(1)}%`:"0%"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Tingkat konversi RSVP"})]})]})]}),d&&i?e.jsx("div",{className:"max-w-md mx-auto",children:e.jsxs(X,{className:"hover:shadow-lg transition-shadow duration-200",children:[e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:i.cover_image||"/placeholder.svg?height=200&width=300&text=Wedding+Invitation",alt:`${i.bride_name} & ${i.groom_name}`,className:"w-full h-48 object-cover rounded-t-lg"}),e.jsx("div",{className:"absolute top-3 left-3",children:e.jsxs(Ge,{className:w(i.is_published),children:[v(i.is_published)," ",y(i.is_published)]})}),e.jsx("div",{className:"absolute top-3 right-3",children:e.jsxs(Bo,{children:[e.jsx(Vo,{asChild:!0,children:e.jsx(k,{variant:"ghost",size:"sm",className:"bg-white/80 hover:bg-white",children:e.jsx(an,{className:"h-4 w-4"})})}),e.jsxs(zo,{align:"end",children:[e.jsxs(L,{onClick:T,children:[e.jsx(ie,{className:"h-4 w-4 mr-2"}),"Pratinjau"]}),e.jsxs(L,{onClick:()=>window.open(`/invitation/${i.slug}`,"_blank"),children:[e.jsx(ie,{className:"h-4 w-4 mr-2"}),"Lihat Langsung"]}),e.jsxs(L,{onClick:g,children:[e.jsx($e,{className:"h-4 w-4 mr-2"}),"Ubah"]}),e.jsxs(L,{onClick:S,children:[e.jsx(Jt,{className:"h-4 w-4 mr-2"}),i.is_published?"Batalkan Publikasi":"Publikasikan"]}),e.jsxs(L,{onClick:$,children:[e.jsx(Kt,{className:"h-4 w-4 mr-2"}),"Salin Tautan"]}),e.jsxs(L,{children:[e.jsx(on,{className:"h-4 w-4 mr-2"}),"Ekspor"]}),e.jsx(Ho,{}),e.jsxs(L,{className:"text-red-600",onClick:M,children:[e.jsx($t,{className:"h-4 w-4 mr-2"}),"Hapus"]})]})]})})]}),e.jsxs(W,{className:"pb-3",children:[e.jsxs(Q,{className:"text-lg",children:[i.bride_name," & ",i.groom_name]}),e.jsx(Gt,{children:i.main_title})]}),e.jsxs(Z,{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-600",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(Ke,{className:"h-4 w-4 mr-1"}),new Date(i.wedding_date).toLocaleDateString()]}),e.jsx(Ge,{variant:"outline",children:i.theme})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-center",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:i.views}),e.jsx("p",{className:"text-xs text-gray-500",children:"Dilihat"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold text-green-600",children:i.rsvps}),e.jsx("p",{className:"text-xs text-gray-500",children:"RSVP"})]})]}),e.jsxs("div",{className:"flex items-center justify-between pt-2",children:[e.jsxs("p",{className:"text-xs text-gray-500",children:["Diubah ",new Date(i.updated_at).toLocaleDateString()]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx(k,{variant:"outline",size:"sm",onClick:T,children:e.jsx(ie,{className:"h-4 w-4"})}),e.jsx(k,{size:"sm",onClick:g,children:e.jsx($e,{className:"h-4 w-4"})})]})]}),i.is_published&&e.jsxs("div",{className:"mt-4 p-3 bg-green-50 border border-green-200 rounded-md",children:[e.jsx("p",{className:"text-sm text-green-800 font-medium",children:"ðŸŽ‰ Undangan Anda sudah aktif!"}),e.jsxs("p",{className:"text-xs text-green-600 mt-1",children:["Bagikan tautan ini: ",e.jsxs("code",{className:"bg-green-100 px-1 rounded",children:[window.location.origin,"/invitation/",i.slug]})]})]})]})]})}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx(ue,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Buat Undangan Pernikahan Anda"}),e.jsxs("p",{className:"text-gray-500 mb-4",children:["Mulai dengan membuat undangan pernikahan yang indah.",e.jsx("br",{}),"Anda dapat membuat satu undangan per akun."]}),e.jsxs(k,{onClick:N,children:[e.jsx(Le,{className:"h-4 w-4 mr-2"}),"Buat Undangan Pernikahan Saya"]})]}),e.jsx(en,{invitation:i||null,open:a,onOpenChange:c})]})]})}const sr=function(){return e.jsx(tn,{children:e.jsx(Yo,{})})};export{sr as component};
