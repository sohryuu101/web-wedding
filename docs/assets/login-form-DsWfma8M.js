import{c as C,a as L,L as c,I as u,B as p}from"./createLucideIcon-D8SGIuxB.js";import{r as t,b as M,u as S,j as e,c as A}from"./index-DxtRYQh2.js";import{C as I,a as E,b as F,c as D,d as R}from"./card-teYlAk6U.js";import{L as q}from"./loader-circle-BcCIw-Fx.js";/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B=[["path",{d:"M7 2h10",key:"nczekb"}],["path",{d:"M5 6h14",key:"u2x4p"}],["rect",{width:"18",height:"12",x:"3",y:"10",rx:"2",key:"l0tzu3"}]],H=C("gallery-vertical-end",B);function J({className:g,...j}){const[r,f]=t.useState(""),[i,k]=t.useState(""),[m,h]=t.useState(!1),[x,n]=t.useState(""),[a,v]=t.useState(!1),[l,N]=t.useState(""),{login:y,register:b}=M(),d=S(),w=async s=>{s.preventDefault(),h(!0),n("");try{if(a){if(!l.trim()){n("Name is required");return}await b(r,i,l)}else await y(r,i);try{(await A.getInvitation()).hasInvitation?d({to:"/dashboard"}):d({to:"/setup"})}catch{d({to:"/setup"})}}catch(o){n(o.message||"Authentication failed")}finally{h(!1)}};return e.jsx("div",{className:L("flex flex-col gap-6",g),...j,children:e.jsxs(I,{children:[e.jsxs(E,{children:[e.jsx(F,{children:a?"Buat Akun Anda":"Masuk ke Akun Anda"}),e.jsx(D,{children:a?"Masukkan detail Anda di bawah ini untuk membuat akun":"Masukkan email Anda di bawah ini untuk masuk ke akun Anda"})]}),e.jsx(R,{children:e.jsxs("form",{onSubmit:w,children:[e.jsxs("div",{className:"flex flex-col gap-6",children:[x&&e.jsx("div",{className:"p-3 text-sm text-red-600 bg-red-50 border border-red-200 rounded-md",children:x}),a&&e.jsxs("div",{className:"grid gap-3",children:[e.jsx(c,{htmlFor:"name",children:"Nama Lengkap"}),e.jsx(u,{id:"name",type:"text",placeholder:"John Doe",value:l,onChange:s=>N(s.target.value),required:!0})]}),e.jsxs("div",{className:"grid gap-3",children:[e.jsx(c,{htmlFor:"email",children:"Email"}),e.jsx(u,{id:"email",type:"email",placeholder:"email@contoh.com",value:r,onChange:s=>f(s.target.value),required:!0})]}),e.jsxs("div",{className:"grid gap-3",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(c,{htmlFor:"password",children:"Kata Sandi"}),!a&&e.jsx("a",{href:"#",className:"ml-auto inline-block text-sm underline-offset-4 hover:underline",children:"Forgot your password?"})]}),e.jsx(u,{id:"password",type:"password",placeholder:"••••••••",value:i,onChange:s=>k(s.target.value),required:!0,minLength:6}),a&&e.jsx("p",{className:"text-xs text-gray-500",children:"Password must be at least 6 characters long"})]}),e.jsx("div",{className:"flex flex-col gap-3",children:e.jsx(p,{type:"submit",className:"w-full",disabled:m,children:m?e.jsxs(e.Fragment,{children:[e.jsx(q,{className:"mr-2 h-4 w-4 animate-spin"}),"Memproses..."]}):a?"Daftar":"Masuk"})})]}),e.jsx("div",{className:"mt-4 text-center text-sm",children:e.jsx(p,{variant:"link",className:"px-0",onClick:()=>v(!a),children:a?"Sudah punya akun? Masuk di sini":"Belum punya akun? Daftar di sini"})})]})})]})})}export{H as G,J as L};
