import{R as u,c as s,d,j as t}from"./index-6Z_JrAJR.js";import{u as x,T as p}from"./template-selector-hj6Ad7lB.js";import{u as o}from"./useMutation-wwxkgUfV.js";import{B as f}from"./createLucideIcon-CLZWU9L5.js";import{H as h}from"./heart-DfEzrPzL.js";import"./wedding-invitation-template-Q856Jh9x.js";import"./loader-circle-CDDQIr5P.js";const S=function(){const n=u.useParams().slug,{data:e,isLoading:a,error:m}=x({queryKey:["publicInvitation",n],queryFn:()=>s.getPublicInvitation(n)}),{mutate:r}=o({mutationFn:()=>s.trackView(n)});d.useEffect(()=>{e!=null&&e.invitation&&r()},[e==null?void 0:e.invitation,r]);const c=o({mutationFn:i=>s.submitRSVP(n,i)}),l=async i=>{await c.mutateAsync(i)};return a?t.jsx("div",{className:"min-h-screen bg-gradient-to-br from-rose-100 to-pink-100 flex items-center justify-center",children:t.jsxs("div",{className:"text-center",children:[t.jsx(h,{className:"h-12 w-12 text-rose-500 mx-auto mb-4 animate-pulse"}),t.jsx("p",{className:"text-lg text-gray-600",children:"Loading your invitation..."})]})}):m||!(e!=null&&e.invitation)?t.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-100 to-gray-200 flex items-center justify-center p-4",children:t.jsxs("div",{className:"text-center max-w-md",children:[t.jsx("div",{className:"text-6xl mb-4",children:"ðŸ’”"}),t.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Invitation Not Found"}),t.jsx("p",{className:"text-gray-600 mb-4",children:"Sorry, we couldn't find this wedding invitation. It may have been removed or the link might be incorrect."}),t.jsx(f,{onClick:()=>window.location.href="/",variant:"outline",children:"Go Home"})]})}):t.jsx(p,{invitation:e.invitation,onRSVP:l,isPreview:!1})};export{S as component};
